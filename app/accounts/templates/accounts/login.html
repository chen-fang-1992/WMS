{% load static %}
<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Login</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		body { font-family: sans-serif; max-width: 520px; margin: 12vh auto; padding: 16px; }
		label { display: block; margin: 12px 0 6px; }
		input[type="text"], input[type="password"] {
			width: 100%;
			padding: 5px 10px;
			box-sizing: border-box;
			border-radius: var(--bs-border-radius);
		}
		button { width: 100%; padding: 10px; margin-top: 16px; }
		.row { display: flex; justify-content: space-between; align-items: center; margin-top: 8px; }
		.errorlist { color: #b00020; margin: 8px 0; list-style: none; padding: 0; }
		a { text-decoration: none; }
	</style>
</head>
<body>
	<h2>登录</h2>

	{% if form.errors %}
		<ul class="errorlist">
			<li>用户名或密码不正确</li>
		</ul>
	{% endif %}

	<form method="post" action="">
		{% csrf_token %}

		<label for="{{ form.username.id_for_label }}">用户名</label>
		{{ form.username }}

		<label for="{{ form.password.id_for_label }}">密码</label>
		{{ form.password }}

		<div class="row">
			<label style="display:flex;align-items:center;gap:6px;">
				<input type="checkbox" name="remember" value="1"> 记住我
			</label>
			{% if next %}
				<input type="hidden" name="next" value="{{ next }}">
			{% endif %}
		</div>

		<button class="btn btn-outline-dark w-100" type="submit">登录</button>
		<p style="margin-top:12px;">
			还没有账号？<a href="{% url 'accounts:register' %}{% if next %}?next={{ next|urlencode }}{% endif %}">去注册</a>
		</p>
		<p style="margin-top:12px;">
			<a class="btn btn-outline-secondary w-100" href="{% url 'accounts:guest_login' %}{% if next %}?next={{ next|urlencode }}{% endif %}">
				以访客身份进入
			</a>
		</p>
	</form>
</body>
</html>