{% load static %}
<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>注册</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		body { font-family: sans-serif; max-width: 520px; margin: 5vh auto; padding: 16px; }
		label { display: block; margin: 12px 0 6px; }
		input[type="text"], input[type="email"], input[type="password"] {
			width: 100%;
			padding: 5px 10px;
			box-sizing: border-box;
			border-radius: var(--bs-border-radius);
		}
		button { width: 100%; padding: 10px; margin-top: 16px; }
		.errorlist { color: #b00020; margin: 8px 0; list-style: none; padding: 0; }
		a { text-decoration: none; }
	</style>
</head>
<body>
	<h2>创建账户</h2>

	<form method="post" action="">
		{% csrf_token %}

		{% if form.non_field_errors %}
			<ul class="errorlist">
				{% for e in form.non_field_errors %}<li>{{ e }}</li>{% endfor %}
			</ul>
		{% endif %}

		<label for="{{ form.username.id_for_label }}">用户名</label>
		{{ form.username }}
		{% for e in form.username.errors %}<div class="errorlist">{{ e }}</div>{% endfor %}

		<div class="row g-2">
			<div class="col-6">
				<label for="{{ form.last_name.id_for_label }}">姓</label>
				{{ form.last_name }}
				{% for e in form.last_name.errors %}<div class="errorlist">{{ e }}</div>{% endfor %}
			</div>
			<div class="col-6">
				<label for="{{ form.first_name.id_for_label }}">名</label>
				{{ form.first_name }}
				{% for e in form.first_name.errors %}<div class="errorlist">{{ e }}</div>{% endfor %}
			</div>
		</div>

		<label for="{{ form.email.id_for_label }}">邮箱</label>
		{{ form.email }}
		{% for e in form.email.errors %}<div class="errorlist">{{ e }}</div>{% endfor %}

		<div class="row g-2">
			<div class="col-6">
				<label for="{{ form.password1.id_for_label }}">密码</label>
				{{ form.password1 }}
				{% for e in form.password1.errors %}<div class="errorlist">{{ e }}</div>{% endfor %}
			</div>
			<div class="col-6">
				<label for="{{ form.password2.id_for_label }}">确认密码</label>
				{{ form.password2 }}
				{% for e in form.password2.errors %}<div class="errorlist">{{ e }}</div>{% endfor %}
			</div>
		</div>

		<button class="btn btn-outline-dark w-100" type="submit">注册并登录</button>
	</form>

	<p style="margin-top:12px;">已有账号？<a href="{% url 'accounts:login' %}">去登录</a></p>
</body>
</html>
